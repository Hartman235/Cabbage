## Cabbage
Здесь я пройдусь по пунктам ТЗ и объясню, как я всё реализовал.
## 1)	
Передвижение игрока и прыжки уже реализованы в шаблоне проекта.
## 2)	
Слева вверху экрана имеется индикатор здоровья. При старте игры персонаж получает 100 единиц здоровья. Если здоровье опустится до 0, персонаж погибнет и игра завершится. Выше или ниже установленных значений здоровье не опускается и не поднимается. Механика здоровья реализована в функции TakeDamage в блюпринте персонажа.
## 3)	
На старте в блюпринте персонажа в функции GenerationFirstRoom происходит генерация первой комнаты исходя из мировых координат и задаётся случайное число комнат для игровой сессии (от 6 до 10). Также после прохождения любой из выходных дверей персонаж попадает в небольшой коридорчик, ограниченный сзади выбранной дверью предыдущей комнаты, а спереди входной дверью новой комнаты, где можно отдохнуть перед следующей комнатой.
### a	
Вход и два выхода в комнате (BP_Room) реализованы.
### b	
Колизии для открытия дверей расположены так, что игрок, пройдя через какую-либо из дверей, не сможет снова их активировать и пройти в обратном направлении, что не позволяет игроку вернуться в предыдущую комнату.
### c	
Левая дверь ведёт в комнату обычной сложности, а правая в комнату повышенной сложности (над второй дверью находится сердечко, подсказывающее игроку, что в данной комнате находится лечащий предмет). Сложность второй комнаты задаётся повышенным количеством ловушек. Колизии дверей работают таким образом, что выбор комнаты происходит при подходе к одной из дверей. При этом можно отойти, и при возвращении дверь снова откроется, но дверь в комнату другой сложности уже будет недоступна. 
### d	
Описано выше.
### e	
В алгоритме генерации ловушек (блюпринт комнаты BP_Room функция SpawnTraps, там у меня генерируются ловушки, сердечки для пополнения здоровья и капуста) предусмотрена проверка того, является ли комната последней. В этом случае кроме ловушек в конце комнаты генерируется капуста (капуста гарантированно не сгенерируется на ловушке). При подборе капусты игра завершается.
## 4)	
Ловушки представлены двумя типами: шипы и летающие пилы. В функции SpawnTraps из всевозможных позиций для ловушек случайно выбирается определённая часть, где они и спавнятся.
### a.	
При генерации случайно задаётся угол наклона относительно оси Z, и пила летает по комнате, вращаясь вокруг своей оси, причём в алгоритме предусмотрена проверка, чтобы при достижении одной из стен пила меняла направление полёта. Полёт осуществляется смещением относительно текущих координат, направление задаётся с помощью угла и функций sin и cos.
### b.	
Шипы неподвижны и спавнятся в одной из случайных точек, отведённых для ловушек.
## 5)	
Ловушки:  
### a.	
При генерации случайно задаётся угол наклона относительно оси Z, и пила летает по комнате, вращаясь вокруг своей оси, причём в алгоритме предусмотрена проверка, чтобы при достижении одной из стен пила меняла направление полёта. Полёт осуществляется смещением относительно текущих координат, направление задаётся с помощью угла и функций sin и cos.
### b.	
Шипы неподвижны и спавнятся в одной из случайных точек, отведённых для ловушек.
### c.	
Оба типа ловушек имеют колизии, которые при соприкосновении с игроком вызывают функцию TakeDamage в блюпринте персонажа, и наносят по 20 единиц урона при касании.
## 9)	
Сложность комнат реализована разным количеством ловушек. Всего в комнате есть 91 точка в которых может заспавниться одна из ловушка. В лёгкой комнате спавн происходит в 30% случайных точек, в сложной же в 55% случайных точек.
## 10)	
В сложной комнате ровно в центре спавнится сердечко, которое при подборе исчезает и восстанавливает игроку 60 единиц здоровья (из 100 возможных). Сердечко гарантированно не заспавнится над ловушкой.
	
Помимо всего описанного выше игру можно поставить на паузу нажатием клавиши P. Повторное нажатие снимет игру с паузы. Также при входе в новую комнату через некоторое время предыдущая комната со всеми объектами удаляется для экономии ресурсов.


	


 
